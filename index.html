<!DOCTYPE html>
<html lang="pt-br">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Arrumador de legendas</title>
        <link
            href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css"
            rel="stylesheet">
        <link
            href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
            rel="stylesheet"
            integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
            crossorigin="anonymous">
        <link rel="stylesheet" href="style.css">
        <script defer src="script.js"></script>
    </head>
    <body>
        <div class="container">
            <h1 class="text-center">Ajuste de legendas</h1>
            <br>
            <br>
            <p>Este programa ajusta os tempos de legendas no formato SRT. Basta
                colar a legenda que deseja ajustar e especificar os novos tempos
                de início e fim das legendas. A legenda deve estar consistente,
                pois o programa ajustará apenas a duração total dela e qualquer
                deslocamento necessário para sincronizá-la com o filme.</p>

            <ul>
                <li><strong>Campo Início:</strong> Refere-se ao instante de
                    início da primeira legenda do filme.</li>
                <li><strong>Campo Fim:</strong> Refere-se ao instante final da
                    última legenda do filme.</li>
            </ul>

            <p>Os campos de início e fim podem ser preenchidos com o valor
                absoluto (por exemplo, 00:12:34,567) ou com um deslocamento em
                relação ao valor original presente na legenda, em milissegundos
                (por exemplo, para adicionar um minuto, digitar +60000. Para
                subtrair 30 segundos, digitar -30000).</p>

            <p>Você pode usar o programa para juntar legendas que estejam
                separadas em dois arquivos para um único arquivo. Sincronize
                cada parte separadamente para corresponder exatamente ao tempo
                em que aparece no filme. Depois, basta juntá-las no campo de
                entrada, que o programa renumerará as linhas adequadamente.</p>
            <form name="f" class="mb-3">
                <div class="form-group">
                    <label for="entrada">Entre com o texto original da
                        legenda:</label>
                    <textarea id="entrada" name="entrada" class="form-control"
                        rows="10" onChange="LeEntrada()"></textarea>
                </div>
                <div class="form-group">
                    <label for="fileInput" class="form-label">Ou faça o upload
                        de um arquivo de legenda:</label>
                    <input type="file" id="fileInput" class="form-control"
                        accept=".srt">
                </div>
                <div class="form-row">
                    <div class="form-group col-md-6">
                        <label for="iniciooriginal">Tempo inicial
                            original:</label>
                        <input type="text" id="iniciooriginal"
                            name="iniciooriginal" class="form-control" readonly>
                    </div>
                    <div class="form-group col-md-6">
                        <label for="fimoriginal">Tempo final original:</label>
                        <input type="text" id="fimoriginal" name="fimoriginal"
                            class="form-control" readonly>
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-group col-md-6">
                        <label for="inicio">Tempo inicial novo:</label>
                        <input type="text" id="inicio" name="inicio"
                            class="form-control">
                    </div>
                    <div class="form-group col-md-6">
                        <label for="fim">Tempo final novo:</label>
                        <input type="text" id="fim" name="fim"
                            class="form-control">
                    </div>
                </div>
                <!-- <div class="form-group">
                    <label for="tempoAjuste">Ajuste de tempo
                        (milissegundos):</label>
                    <input type="number" id="tempoAjuste" name="tempoAjuste"
                        class="form-control" value="0" step="1">
                </div> -->

                <div class="d-flex justify-content-center">
                    <button type="button" class="btn btn-primary"
                        onclick="AjustaTempos()"><i class="fas fa-clock"></i>
                        Ajustar tempos</button>
                </div>

                <div class="form-group mt-3">
                    <label for="saida">Saída:</label>
                    <textarea id="saida" name="saida" class="form-control"
                        rows="10" readonly></textarea>
                </div>
                <div class="form-group">
                    <label for="filename">Nome do arquivo:</label>
                    <input type="text" id="filename" name="filename"
                        class="form-control" placeholder="legenda_ajustada.srt">
                </div>
                <div class="d-flex justify-content-center">
                    <button type="button" class="btn btn-secondary"
                        onclick="CopiarTexto()"><i class="fas fa-copy"></i>
                        Copiar Texto</button>
                    <button type="button" class="btn btn-secondary"
                        onclick="SalvarArquivo()"><i class="fas fa-save"></i>
                        Salvar em arquivo</button>
                </div>
            </form>
        </div>
        <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
        <script
            src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.5.4/dist/umd/popper.min.js"></script>
        <script
            src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
            integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
            crossorigin="anonymous"></script>
    </body>
</html>
